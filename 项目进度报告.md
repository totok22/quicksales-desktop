# QuickSales Desktop - 项目进度报告

**最后更新:** 2026-02-15  
**项目状态:** ✅ 核心功能已完成，可正常构建发布  
**当前版本:** v0.1.0

---

## 技术栈

| 层级 | 技术 |
|------|------|
| 前端框架 | React 19 + TypeScript |
| 构建工具 | Vite 7 |
| 样式方案 | Tailwind CSS |
| 状态管理 | Zustand 5 |
| 桌面框架 | Tauri 2.x |
| 后端语言 | Rust (Edition 2021) |
| 数据库 | SQLite (rusqlite 0.32) |
| Excel 导出 | ExcelJS 4.4 |

---

## 已完成功能

### 订单管理 ✅
- 多标签页并行编辑（最多 4 个）
- 购物车式商品添加
- 临时客户快速创建
- 订单号自动生成（支持日期重置）
- Excel 模板导出（支持跳过对话框、自动打开）
- 订单历史 JSON 导入/导出

### 商品管理 ✅
- 完整 CRUD 操作
- 分类树管理（无限层级）
- 拼音搜索（首字母 + 全拼）
- 批量删除、批量修改分类
- 库存跟踪（可选）

### 客户管理 ✅
- 完整 CRUD 操作
- 去重规则（电话/车牌号）
- 手动合并客户
- 删除客户保留历史订单

### 销售统计 ✅
- 6 项 KPI 指标 + 环比
- 多维度筛选（时间/客户/商品/分类/金额）
- 趋势图（自适应日/周/月粒度）
- Top 排行（分类/客户/商品）
- CSV 明细导出

### 系统设置 ✅
- Excel 模板配置（字段映射、验证规则）
- 订单号格式自定义
- 导出行为设置
- 深色模式切换

### 预设管理 ✅
- 备注预设（订单/商品级别）
- 单位预设
- 使用频率排序

---

## 数据库设计

| 表名 | 说明 |
|------|------|
| products | 商品表 |
| categories | 分类表 |
| customers | 客户表 |
| orders | 订单表 |
| order_items | 订单明细表 |
| templates | Excel 模板配置 |
| remark_presets | 备注预设 |
| unit_presets | 单位预设 |
| app_settings | 应用设置 |

索引：13 个（覆盖常用查询场景）

---

## 构建状态

```
✅ npm run build          - 前端构建通过
✅ npm run tauri build    - 桌面应用构建通过
```

**构建产物：**
- `QuickSales_0.1.0_x64_en-US.msi` (Windows MSI)
- `QuickSales_0.1.0_x64-setup.exe` (Windows NSIS)

---

## 待优化项

| 优先级 | 内容 |
|--------|------|
| 中 | 数据备份/恢复功能 |
| 中 | 打印功能 |
| 低 | 快捷键支持 |
| 低 | 性能监控面板 |

---

## 启动命令

```bash
# 开发模式
npm run tauri dev

# 构建发布
npm run tauri build
```

---

## 相关文档

- [README.md](./README.md) - 项目说明
- [CHANGELOG.md](./CHANGELOG.md) - 更新日志
- [数据库更新说明.md](./数据库更新说明.md) - 数据库变更记录
